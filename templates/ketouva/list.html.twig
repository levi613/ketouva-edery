{% extends 'base.html.twig' %}

{% block title %}Liste des Ketouvot enregistrées
{% endblock %}

{% block body %}
	<h3>Liste des Ketouvot enregistrées</h3>
	<br>

	<div class="table-responsive">
		<table class="table table-light table-hover table-striped align-middle" style="text-align:center">
			<thead class="">
				<tr>
					<th scope="col" style="text-align:left">Type</th>
					<th scope="col">Nom du fichier</th>
					<th scope="col">Hatan</th>
					<th scope="col">Kala</th>
					<th scope="col">Afficher</th>
					<th scope="col">Modifier</th>
					<th scope="col" style="text-align:right">Supprimer</th>
				</tr>
			</thead>


			{# {% set i = 0 %} #}
			{% set modalSupp = {} %}
			<tbody class="align-middle">
				{% for ketouva in ketouvot %}
					<tr>
						<td scope="row" style="text-align:left">{{ketouva.typeKetouva}}</td>

						<td>{{ketouva.nomFichier}}</td>

						<td dir="rtl">
							{{ketouva.titreHatan}}
							{{ketouva.nomHatan}}
							בן
							{{ketouva.titrePereHatan}}
							{{ketouva.nomPereHatan}}
						</td>

						<td dir="rtl">
							{{ketouva.nomKala}}
							בת
							{{ketouva.titrePereKala}}
							{{ketouva.nomPereKala}}
						</td>

						<td>
							<a href="{{path('affiche_ketouva',{'id':ketouva.id})}}">Afficher</a>
						</td>

						<td>
							<a href="{{path('edit_ketouva',{'id':ketouva.id})}}">Modifier</a>

						</td>

						<td style="text-align:right" title="Supprimer">
							<span class="btn-link text-danger" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#supprimer{{ketouva.id}}">
								Supprimer
							</span>
						</td>
					</tr>


				{% endfor %}
			</tbody>
		</table>
	</div>


	{% block modal %}
		{% for ketouva in ketouvot %}
			<div class="modal fade" id="supprimer{{ketouva.id}}" tabindex="-1" aria-labelledby="Supprimer" aria-hidden="true">
				<div class="vertical-alignment-helper">
					<div class="modal-dialog vertical-align-center">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Voulez vous vraiment supprimer cette ketouva&nbsp;?</h5>

								<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="close"></button>
							</div>
							<div class="modal-body">
								<div>
									Type :
									{{ketouva.typeKetouva}}
								</div>
								<div>
									Nom :
									{{ketouva.nomFichier}}
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" data-bs-dismiss="modal" class="btn btn-secondary">Annuler</button>
								<button type="button" class="btn btn-danger">
									<a style="text-decoration:none;color:white" href="{{path('supprimer_ketouva', {id : ketouva.id})}}">Supprimer</a>
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		{% endfor %}
	{% endblock %}

{% endblock %}
